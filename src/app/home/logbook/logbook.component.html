<header class="page-header">
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12 col-md-9">
        <h1 class="page-header-heading"><span class="typcn typcn-contacts page-header-heading-icon"></span> Bitacora</h1>
        <p class="page-header-description">Listado de registros de empleados del <strong>{{ currentSector?.name }}</strong></p>
      </div>
    </div>
  </div>
</header>


<div class="container-fluid">
  <div class="panel panel-default">
    <div class="panel-heading">Bitacora</div>

    <div class="panel-body">      
      <div class="form-inline">
        <select class="form-control" (change)="changeProfileFilter($event.target.value)" [(ngModel)]="currentProfileFilterControl">
            <option value="all">-- Seleccione Perfil --</option>
            <option *ngFor="let profile of profiles" [value]="profile.id">{{profile.name}}</option>
        </select>
      
        <button class="btn btn-pill" 
          [class.btn-primary]="(currentToggleableFilter === 'today')" 
          [class.btn-transparent]="!(currentToggleableFilter === 'today')" 
          [class.btn-transparent-primary]="!(currentToggleableFilter === 'today')"
          (click)="toggleFilter('today')"
          >
          Hoy
        </button>
        <button class="btn btn-pill" 
          [class.btn-primary]="(currentToggleableFilter === 'last7days')" 
          [class.btn-transparent]="!(currentToggleableFilter === 'last7days')" 
          [class.btn-transparent-primary]="!(currentToggleableFilter === 'last7days')"
          (click)="toggleFilter('last7days')"
          >
          7 Días
        </button>
        <button class="btn btn-pill" 
          [class.btn-primary]="(currentToggleableFilter === 'last15days')" 
          [class.btn-transparent]="!(currentToggleableFilter === 'last15days')" 
          [class.btn-transparent-primary]="!(currentToggleableFilter === 'last15days')"
          (click)="toggleFilter('last15days')"
          >
          15 Días
        </button>
        <button class="btn btn-pill" 
          [class.btn-primary]="(currentToggleableFilter === 'last30days')" 
          [class.btn-transparent]="!(currentToggleableFilter === 'last30days')" 
          [class.btn-transparent-primary]="!(currentToggleableFilter === 'last30days')"
          (click)="toggleFilter('last30days')"
          >
          30 Días
        </button>
        <button class="btn btn-pill" 
          [class.btn-warning]="(currentToggleableFilter === 'incomplete')" 
          [class.btn-transparent]="!(currentToggleableFilter === 'incomplete')" 
          [class.btn-transparent-warning]="!(currentToggleableFilter === 'incomplete')"
          (click)="toggleFilter('incomplete')"
          >
          Incompletos
        </button>
      </div>
      
      <table class="table table-bordered logbook-table">
        <thead>
          <tr>
            <th>Rut</th>
            <th>Nombre</th>
            <th>Tipo</th>
            <th>Hora Entrada</th>
            <th>Hora Salida</th>
            <th>Comentario</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let register of registers">
            <td>{{ register.person?.rut }}</td>
            <td>{{ register.person?.name }}</td>
            <td>{{ register.person?.type }}</td>
            <td>{{ register.entryTime }}</td>
            <td>{{ register.departTime }}</td>
            <td>{{ register.comment }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
